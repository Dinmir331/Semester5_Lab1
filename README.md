# Лабораторная работа №1 по "Встраиваемым системам"
# Тема: Знакомство с SPI. Применение библиотек при разработке ПО под STM32
# Задание:
Реализовать игру “Пинг-Понг” и вывести картинку с помощью протокола SPI на светодиодную панель P10. Суть данной игры будет заключаться в том что на прямоугольном поле 32х16 окруженном с верхней и нижней стороны стенками по бокам расположены движимые вертикально платформы, отбивающие летящий шарик, если шарик попадает мимо платформ, игра заканчивается и начинается заново, выдавая счет игроков в начале нового раунда. Движение платформ управляется отдельно, шарик отскакивает от платформ и стенок в зависимости от своей траектории движения
# Описание
В работе была исользована отладочная плата **NUCLEO STM32F429ZITx** на базе микроконтроллера серии STMicroelectronics. Управление должно быть организовано при помощи подключенных потенциометров.
Для выполнения задания необходимо изучить принцип работы интерфейса SPI и связи со светодиодной панелью P10 с размерностью 16x32 пикселей.
Листинги программного кода предоставлены в директории `/S5_LB1.8` в файлах `/Core/SRC/main.c` и `/Core/SRC/stm32f4xx_it.c`. 
# Сборка проекта
Для исправной работы необходимо следовать нескольким пунктам:
1. Настройка проекта в STM32CubeMX
Для реализации проекта, в STM32CubeMX были активированы пины PA0 и PB0 как ADC Mode в IN0 b IN8 соответственно для того, чтобы подключить на него потенциометры для передачи аналогово сигнала. Так же был активирован SPI1 в режиме Transmit Only Master и пины PA4 (nOE), PA8 (SCLK), PD15 (A), PD14 (B) в режиме GPIO-Output для передачи информации на светодиодную панель. Для реализации движения шарика и управления платформой был активирован TIM1 в режиме Internal Clock с параметрами: Prescaler: 100-1, Counter Period: 1800-1, чтобы добиться частоты обновления таймера 1000 Гц или периода 1 мс. 
![img_1.png](images/img_1.png)
2. Подключение светодиодной панели P10 и потенциометров к отладочной плате STM32
Необходимо подключить светодиодную панель согласно
3. 
4. 
![img_1.png](images/img_1.png)
